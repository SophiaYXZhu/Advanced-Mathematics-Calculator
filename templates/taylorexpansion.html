{% extends 'base.html' %}

{% block head %}
<title>Calculator</title>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<style>
    .img-container {
      text-align: center;
      display: block;
    }
  </style>
{% endblock %}

{% block body %}
<h1>Calculator</h1>
<div>
    <form id="angles" action="/taylorexpansion" method="POST">
        <div>
            Rules for input:
            <br>
            <ul>
            <li>The degree of the taylor polynomial represents to which term do you want to keep the polynomial.</li>
            <li>The value of the polynomial represents the center in which the polynomial is expanded on.</li>
            <br>
        </ul>
        </div>
        <div class="form-group">
            <label for="decimals" class="col-sm-2 text-nowrap">Please input your expression: </label>
            <div class="col-sm-10">
                <input type="text" class="form-control" name="expression" id="expression"
                    value="{% if result %}{{ result.expression }}{% endif %}">
            </div>
        </div>
        <div class="form-group">
            <label for="decimals" class="col-sm-2 text-nowrap">Variable: </label>
            <div class="col-sm-10">
                <input type="text" class="form-control" name="variable" id="variable"
                    value="{% if result %}{{ result.variable }}{% endif %}">
            </div>
        </div>
        <div class="form-group">
            <label for="decimals" class="col-sm-2 text-nowrap">Degree: </label>
            <div class="col-sm-10">
                <input type="text" class="form-control" name="degree" id="degree"
                    value="{% if result %}{{ result.degree }}{% endif %}">
            </div>
        </div>
        <div class="form-group">
            <label for="decimals" class="col-sm-2 text-nowrap">Center: </label>
            <div class="col-sm-10">
                <input type="text" class="form-control" name="center" id="center"
                    value="{% if result %}{{ result.center }}{% endif %}">
            </div>
        </div>
        <input type="submit" name="submit" id="submit" value="Calculate" />

    </form>
</div>
{% if result and result.message %}
<p></p>
<p></p>
<p></p>
<br>
<br>
<br>
<div>
    <h2>ERROR: {{ result.message}}</h2>
</div>

{% elif result and result.result %}
<p>
<div>
    <h2 align="center">Taylor Expansion</h2>
    <hr>
    <p></p>
    <div>{{ result.result }}</div>
    {% endif %}
    {% endblock %}